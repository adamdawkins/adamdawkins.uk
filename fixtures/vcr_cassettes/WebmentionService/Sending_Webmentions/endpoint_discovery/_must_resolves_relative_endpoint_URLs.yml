---
http_interactions:
- request:
    method: get
    uri: https://webmention.rocks/test/1
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx/1.14.2
      Date:
      - Sat, 26 Jan 2019 00:33:30 GMT
      Content-Type:
      - text/html; charset=UTF-8
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Link:
      - "</test/1/webmention>; rel=webmention"
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Allow-Methods:
      - GET, POST
    body:
      encoding: UTF-8
      string: "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\"
        />\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n
        \ <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0,
        maximum-scale=1.0\">\n\n  <title>Webmention Rocks!</title>\n  <link href=\"/assets/semantic.min.css\"
        rel=\"stylesheet\">\n  <link href=\"/assets/style.css\" rel=\"stylesheet\">\n
        \ <link href=\"/assets/test.css\" rel=\"stylesheet\">\n\n  <script src=\"/assets/jquery-1.11.3.min.js\"></script>\n
        \ <script src=\"/assets/semantic.min.js\"></script>\n\n  \n</head>\n<body>\n\n\n\n<div
        class=\"post-container h-entry\">\n    <div class=\"post-main \">\n    <div
        class=\"left p-author h-card\">\n      <a href=\"/\">\n        <img src=\"/assets/webmention-rocks-icon.png\"
        width=\"80\" class=\"u-photo\" alt=\"Webmention Rocks!\">\n      </a>\n    </div>\n
        \   <div class=\"right\">\n      <h1 class=\"p-name\"><a href=\"/test/1\">Discovery
        Test #1</a></h1>\n      <div class=\"e-content\">This post advertises its
        Webmention endpoint with an HTTP <code>Link</code> header. The URL is relative,
        so this will also test whether your discovery code properly resolves the relative
        URL.</div>\n      <div class=\"meta\">\n        <a href=\"/test/1\" class=\"u-url\">\n
        \         Published:\n          <time class=\"dt-published\" datetime=\"2016-04-09T21:25:31-07:00\">\n
        \           Saturday April 9, 2016 9:25pm -07:00          </time>\n        </a>\n
        \     </div>\n    </div>\n  </div>\n  <div class=\"post-responses\">\n    <div
        id=\"debug\"></div>\n\n        <div class=\"responses-row reacji empty\">\n
        \     <div style=\"padding: 12px 12px 3px 12px;\">\n        <h3 style=\"margin:
        0;\">Reacji</h3>\n        <p class=\"help-text\">The emoji below show <a href=\"https://indieweb.org/reacji\">Reacji</a>
        responses, created by people posting a comment linking to this post with an
        <code><a href=\"https://indieweb.org/in-reply-to\">in-reply-to</a></code>
        property, whose text is a single emoji character.</p>\n      </div>\n      <ul
        class=\"reacji stream reacji\">\n              </ul>\n      <div style=\"clear:both;\"></div>\n
        \   </div>\n\n          <div class=\"responses-row like empty\">\n        <div
        style=\"padding: 12px 12px 3px 12px;\">\n          <h3 style=\"margin: 0;\">Likes</h3>\n
        \         <p class=\"help-text\">\n            The profile icons below are
        the <a href=\"https://indieweb.org/authorship\">author</a> photos from people
        who have posted a \"like\" post on their site, where their post links to this
        post with the <code><a href=\"https://indieweb.org/like-of\">like-of</a></code>
        property.</p>          </p>\n        </div>\n        <div class=\"facepile-type-icon\"><i
        class=\"ui star icon\"></i></div>\n        <ul class=\"facepile stream like\">\n
        \                 </ul>\n        <div style=\"clear:both;\"></div>\n      </div>\n
        \         <div class=\"responses-row repost empty\">\n        <div style=\"padding:
        12px 12px 3px 12px;\">\n          <h3 style=\"margin: 0;\">Reposts</h3>\n
        \         <p class=\"help-text\">\n            The profile icons below are
        the <a href=\"https://indieweb.org/authorship\">author</a> photos from people
        who have posted a \"repost\" of this post on their site, where their post
        links to this post with the <code><a href=\"https://indieweb.org/repost-of\">repost-of</a></code>
        property.</p>          </p>\n        </div>\n        <div class=\"facepile-type-icon\"><i
        class=\"ui retweet icon\"></i></div>\n        <ul class=\"facepile stream
        repost\">\n                  </ul>\n        <div style=\"clear:both;\"></div>\n
        \     </div>\n          <div class=\"responses-row bookmark empty\">\n        <div
        style=\"padding: 12px 12px 3px 12px;\">\n          <h3 style=\"margin: 0;\">Bookmarks</h3>\n
        \         <p class=\"help-text\">\n            The profile icons below are
        the <a href=\"https://indieweb.org/authorship\">author</a> photos from people
        who have posted a bookmark of this post on their site, where their post links
        to this post with the <code><a href=\"https://indieweb.org/bookmark-of\">bookmark-of</a></code>
        property.</p>          </p>\n        </div>\n        <div class=\"facepile-type-icon\"><i
        class=\"ui bookmark icon\"></i></div>\n        <ul class=\"facepile stream
        bookmark\">\n                  </ul>\n        <div style=\"clear:both;\"></div>\n
        \     </div>\n    \n    <div class=\"responses-row reply empty\">\n      <div
        style=\"padding: 12px 12px 3px 12px;\">\n        <h3 style=\"margin: 0;\">Comments</h3>\n
        \       <p class=\"help-text\">The comments below are replies to this post,
        and marked up their link to the post with the <code><a href=\"https://indieweb.org/in-reply-to\">in-reply-to</a></code>
        property.</p>\n      </div>\n      <ul class=\"comments stream reply\">\n
        \             </ul>\n    </div>\n\n    <div class=\"responses-row mention
        empty\">\n      <div style=\"padding: 12px 12px 3px 12px;\">\n        <h3
        style=\"margin: 0;\">Mentions</h3>\n        <p class=\"help-text\">The mentions
        below linked to this post, but did not include this post's URL as an <code><a
        href=\"https://indieweb.org/in-reply-to\">in-reply-to</a></code> property.</p>\n
        \     </div>\n      <ul class=\"comments stream mention\">\n              </ul>\n
        \   </div>    \n\n  </div>\n  <div class=\"post-footer\">\n    <p>Responses
        are stored for 48 hours and may be deleted after that time.</p>\n  </div>\n</div>\n\n<div
        id=\"test-num\" data-num=\"1\"></div>\n<script src=\"/assets/streaming.js\"></script>\n\n</body>\n</html>\n"
    http_version: 
  recorded_at: Sat, 26 Jan 2019 00:33:30 GMT
- request:
    method: get
    uri: https://webmention.rocks/test/3
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - nginx/1.14.2
      Date:
      - Sat, 26 Jan 2019 00:33:31 GMT
      Content-Type:
      - text/html; charset=UTF-8
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Allow-Origin:
      - "*"
      Access-Control-Allow-Methods:
      - GET, POST
    body:
      encoding: UTF-8
      string: "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\"
        />\n  <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n
        \ <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0,
        maximum-scale=1.0\">\n\n  <title>Webmention Rocks!</title>\n  <link href=\"/assets/semantic.min.css\"
        rel=\"stylesheet\">\n  <link href=\"/assets/style.css\" rel=\"stylesheet\">\n
        \ <link href=\"/assets/test.css\" rel=\"stylesheet\">\n\n  <script src=\"/assets/jquery-1.11.3.min.js\"></script>\n
        \ <script src=\"/assets/semantic.min.js\"></script>\n\n  <link rel=\"webmention\"
        href=\"/test/3/webmention\">\n</head>\n<body>\n\n\n\n<div class=\"post-container
        h-entry\">\n    <div class=\"post-main \">\n    <div class=\"left p-author
        h-card\">\n      <a href=\"/\">\n        <img src=\"/assets/webmention-rocks-icon.png\"
        width=\"80\" class=\"u-photo\" alt=\"Webmention Rocks!\">\n      </a>\n    </div>\n
        \   <div class=\"right\">\n      <h1 class=\"p-name\"><a href=\"/test/3\">Discovery
        Test #3</a></h1>\n      <div class=\"e-content\">This post advertises its
        Webmention endpoint with an HTML <code>&lt;link&gt;</code> tag in the document.
        The URL is relative, so this will also test whether your discovery code properly
        resolves the relative URL.</div>\n      <div class=\"meta\">\n        <a href=\"/test/3\"
        class=\"u-url\">\n          Published:\n          <time class=\"dt-published\"
        datetime=\"2016-04-09T21:25:31-07:00\">\n            Saturday April 9, 2016
        9:25pm -07:00          </time>\n        </a>\n      </div>\n    </div>\n  </div>\n
        \ <div class=\"post-responses\">\n    <div id=\"debug\"></div>\n\n        <div
        class=\"responses-row reacji empty\">\n      <div style=\"padding: 12px 12px
        3px 12px;\">\n        <h3 style=\"margin: 0;\">Reacji</h3>\n        <p class=\"help-text\">The
        emoji below show <a href=\"https://indieweb.org/reacji\">Reacji</a> responses,
        created by people posting a comment linking to this post with an <code><a
        href=\"https://indieweb.org/in-reply-to\">in-reply-to</a></code> property,
        whose text is a single emoji character.</p>\n      </div>\n      <ul class=\"reacji
        stream reacji\">\n              </ul>\n      <div style=\"clear:both;\"></div>\n
        \   </div>\n\n          <div class=\"responses-row like empty\">\n        <div
        style=\"padding: 12px 12px 3px 12px;\">\n          <h3 style=\"margin: 0;\">Likes</h3>\n
        \         <p class=\"help-text\">\n            The profile icons below are
        the <a href=\"https://indieweb.org/authorship\">author</a> photos from people
        who have posted a \"like\" post on their site, where their post links to this
        post with the <code><a href=\"https://indieweb.org/like-of\">like-of</a></code>
        property.</p>          </p>\n        </div>\n        <div class=\"facepile-type-icon\"><i
        class=\"ui star icon\"></i></div>\n        <ul class=\"facepile stream like\">\n
        \                 </ul>\n        <div style=\"clear:both;\"></div>\n      </div>\n
        \         <div class=\"responses-row repost empty\">\n        <div style=\"padding:
        12px 12px 3px 12px;\">\n          <h3 style=\"margin: 0;\">Reposts</h3>\n
        \         <p class=\"help-text\">\n            The profile icons below are
        the <a href=\"https://indieweb.org/authorship\">author</a> photos from people
        who have posted a \"repost\" of this post on their site, where their post
        links to this post with the <code><a href=\"https://indieweb.org/repost-of\">repost-of</a></code>
        property.</p>          </p>\n        </div>\n        <div class=\"facepile-type-icon\"><i
        class=\"ui retweet icon\"></i></div>\n        <ul class=\"facepile stream
        repost\">\n                  </ul>\n        <div style=\"clear:both;\"></div>\n
        \     </div>\n          <div class=\"responses-row bookmark empty\">\n        <div
        style=\"padding: 12px 12px 3px 12px;\">\n          <h3 style=\"margin: 0;\">Bookmarks</h3>\n
        \         <p class=\"help-text\">\n            The profile icons below are
        the <a href=\"https://indieweb.org/authorship\">author</a> photos from people
        who have posted a bookmark of this post on their site, where their post links
        to this post with the <code><a href=\"https://indieweb.org/bookmark-of\">bookmark-of</a></code>
        property.</p>          </p>\n        </div>\n        <div class=\"facepile-type-icon\"><i
        class=\"ui bookmark icon\"></i></div>\n        <ul class=\"facepile stream
        bookmark\">\n                  </ul>\n        <div style=\"clear:both;\"></div>\n
        \     </div>\n    \n    <div class=\"responses-row reply empty\">\n      <div
        style=\"padding: 12px 12px 3px 12px;\">\n        <h3 style=\"margin: 0;\">Comments</h3>\n
        \       <p class=\"help-text\">The comments below are replies to this post,
        and marked up their link to the post with the <code><a href=\"https://indieweb.org/in-reply-to\">in-reply-to</a></code>
        property.</p>\n      </div>\n      <ul class=\"comments stream reply\">\n
        \             </ul>\n    </div>\n\n    <div class=\"responses-row mention
        empty\">\n      <div style=\"padding: 12px 12px 3px 12px;\">\n        <h3
        style=\"margin: 0;\">Mentions</h3>\n        <p class=\"help-text\">The mentions
        below linked to this post, but did not include this post's URL as an <code><a
        href=\"https://indieweb.org/in-reply-to\">in-reply-to</a></code> property.</p>\n
        \     </div>\n      <ul class=\"comments stream mention\">\n              </ul>\n
        \   </div>    \n\n  </div>\n  <div class=\"post-footer\">\n    <p>Responses
        are stored for 48 hours and may be deleted after that time.</p>\n  </div>\n</div>\n\n<div
        id=\"test-num\" data-num=\"3\"></div>\n<script src=\"/assets/streaming.js\"></script>\n\n</body>\n</html>\n"
    http_version: 
  recorded_at: Sat, 26 Jan 2019 00:33:31 GMT
recorded_with: VCR 4.0.0
